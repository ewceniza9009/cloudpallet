<h2 mat-dialog-title>Scan to Confirm Pick</h2>
<mat-dialog-content cdkTrapFocus>
  <p class="dialog-info">
    <strong>Material:</strong> {{ data.material }}<br>
    <strong>Required Location:</strong> {{ data.location }}
  </p>

  <form [formGroup]="scanForm" class="scan-form">
    <mat-form-field appearance="outline">
      <mat-label>1. Scan Location Barcode</mat-label>
      <input matInput formControlName="scannedLocationCode" cdkFocusInitial>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>2. Scan LPN / Pallet Barcode</mat-label>
      <input matInput formControlName="scannedLpn">
    </mat-form-field>

    <div class="weigh-section">
      <mat-form-field appearance="outline">
        <mat-label>3. Captured Weight (KG)</mat-label>
        <input matInput type="number" formControlName="actualWeight" readonly>
      </mat-form-field>
      <button mat-stroked-button color="primary" type="button" (click)="onWeigh()" [disabled]="isWeighing()">
        @if(isWeighing()) {
          <mat-spinner diameter="20"></mat-spinner>
        } @else {
          <ng-container>
            <mat-icon>scale</mat-icon>
            <span>Weigh</span>
          </ng-container>
        }
      </button>
    </div>
  </form>

</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-stroked-button color="primary" (click)="onConfirm()" [disabled]="scanForm.invalid">Confirm Pick</button>
</mat-dialog-actions>
