import{a as K}from"./chunk-IVP2W5SP.js";import{a as Y}from"./chunk-225REAVO.js";import{a as q}from"./chunk-IAZAIEWP.js";import"./chunk-Q74Q4XXZ.js";import"./chunk-MS4AQ6UA.js";import"./chunk-AR7DOULP.js";import{c as R,h as N}from"./chunk-T7FV3XRB.js";import"./chunk-E4XFWEKX.js";import"./chunk-JJ4H6OAC.js";import"./chunk-XOBVZ7HT.js";import"./chunk-PVDG46DZ.js";import{a as z}from"./chunk-FTTQQNBZ.js";import{a as A,b as $}from"./chunk-YNYX5A3H.js";import{b as B}from"./chunk-LJS4T7OK.js";import"./chunk-3AIDC2CP.js";import"./chunk-ISLNSOXI.js";import"./chunk-OPXM5N2G.js";import"./chunk-2ATSTUKT.js";import{o as E,p as L}from"./chunk-362WG5KS.js";import{a as V,b as j}from"./chunk-JQRCIVV7.js";import"./chunk-SVDPSKVI.js";import"./chunk-2G4RJFBR.js";import{a as I,e as D,i as F}from"./chunk-BKLGZBQH.js";import{G as S,H as T}from"./chunk-PPJHYCVS.js";import{t as O}from"./chunk-DHGPXNCW.js";import{Aa as x,H as f,Ob as C,Pb as w,Sb as h,Tb as v,Ub as M,Vb as t,Wb as n,Xb as P,cc as b,hb as l,hc as u,jc as m,la as d,qa as p,ra as g,ub as y,xc as i,yc as _,zc as k}from"./chunk-N46UG6V3.js";var G=(r,e)=>e.palletId;function H(r,e){r&1&&(t(0,"div",4),P(1,"mat-progress-spinner",6),t(2,"p"),i(3,"Loading Tasks..."),n()())}function J(r,e){if(r&1){let a=b();t(0,"mat-card",7)(1,"div",9)(2,"div",10)(3,"div",11)(4,"mat-icon",12),i(5,"qr_code"),n(),t(6,"span",13),i(7),n()(),t(8,"div",14),i(9),n()(),t(10,"div",15)(11,"span",16),i(12,"Suggested To"),n(),t(13,"span",17),i(14),n()()(),t(15,"mat-card-actions",18)(16,"button",19),u("click",function(){let s=p(a).$implicit,c=m(2);return g(c.onBlastFreeze(s))}),t(17,"mat-icon"),i(18,"ac_unit"),n(),t(19,"span"),i(20,"Blast Freeze"),n()(),t(21,"button",19),u("click",function(){let s=p(a).$implicit,c=m(2);return g(c.onManualPutaway(s))}),t(22,"mat-icon"),i(23,"rule_folder"),n(),t(24,"span"),i(25,"Manual"),n()(),t(26,"button",20),u("click",function(){let s=p(a).$implicit,c=m(2);return g(c.onPutaway(s))}),t(27,"mat-icon"),i(28,"move_to_inbox"),n(),t(29,"span"),i(30,"Put Away"),n()()()()}if(r&2){let a=e.$implicit;l(7),_(a.palletBarcode),l(2),k(" ",a.contents," "),l(4),M("matTooltip",a.suggestedLocation),l(),_(a.suggestedLocation)}}function Q(r,e){r&1&&(t(0,"div",8)(1,"mat-icon"),i(2,"check_circle_outline"),n(),t(3,"h2"),i(4,"All Caught Up!"),n(),t(5,"p"),i(6,"There are no pending putaway tasks."),n()())}function W(r,e){if(r&1&&(t(0,"div",5),h(1,J,31,4,"mat-card",7,G,!1,Q,7,0,"div",8),n()),r&2){let a=m();l(),v(a.tasks())}}var U=class r{inventoryApi=d(q);snackBar=d(A);dialog=d(R);tasks=x([]);isLoading=x(!0);ngOnInit(){this.loadTasks()}loadTasks(){this.isLoading.set(!0),this.inventoryApi.getPutawayTasks().subscribe({next:e=>{this.tasks.set(e),this.isLoading.set(!1)},error:()=>{this.snackBar.open("Failed to load putaway tasks.","Close"),this.isLoading.set(!1)}})}onBlastFreeze(e){this.dialog.open(Y,{data:{title:"Confirm Blast Freeze",message:`This will record a billable Blast Freezing service for pallet ${e.palletBarcode}. This action cannot be undone. Continue?`,confirmButtonText:"Confirm"}}).afterClosed().pipe(f(o=>o===!0)).subscribe(()=>{this.inventoryApi.recordBlastFreeze(e.palletId).subscribe({next:()=>{this.snackBar.open("Blast freezing service recorded successfully.","OK",{duration:3e3})},error:o=>this.snackBar.open(`Error: ${o.error?.title||"Could not record service."}`,"Close")})})}onPutaway(e){this.executePutaway(e.palletId,e.suggestedLocationId)}onManualPutaway(e){this.dialog.open(K).afterClosed().pipe(f(o=>!!o)).subscribe(o=>{this.executePutaway(e.palletId,o)})}executePutaway(e,a){this.inventoryApi.executePutaway(e,a).subscribe({next:()=>{this.snackBar.open("Pallet put away successfully!","OK",{duration:3e3}),this.tasks.update(o=>o.filter(s=>s.palletId!==e))},error:o=>{this.snackBar.open(`Error: ${o.error?.title||"Could not complete putaway."}`,"Close",{duration:5e3})}})}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=y({type:r,selectors:[["app-putaway-list"]],decls:9,vars:1,consts:[[1,"report-container"],[1,"header-section"],[1,"mat-headline-6"],[1,"mat-body-1"],[1,"spinner-container-page"],[1,"tasks-grid"],["mode","indeterminate"],[1,"task-card"],[1,"empty-list-message"],[1,"card-content-wrapper"],[1,"info-section"],[1,"barcode-row"],[1,"qr-icon"],[1,"barcode"],[1,"contents-row"],[1,"location-section"],[1,"label"],[1,"location-badge",3,"matTooltip"],["align","end",1,"compact-actions"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(a,o){a&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),i(4,"Putaway Task List"),n(),t(5,"p",3),i(6,"Pallets in the staging area ready for storage."),n()()(),C(7,H,4,0,"div",4)(8,W,4,1,"div",5),n()),a&2&&(l(7),w(o.isLoading()?7:8))},dependencies:[O,F,I,D,L,E,T,S,$,j,V,N,z,B],styles:["[_nghost-%COMP%]{display:block;height:100%}.report-container[_ngcontent-%COMP%]{padding:1.5rem 2rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem;height:100%;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid var(--mat-sys-outline-variant)}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin:0 0 .5rem;color:var(--mat-sys-on-surface);letter-spacing:-.02em}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--mat-sys-on-surface-variant);font-size:1rem;max-width:600px}.spinner-container-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:3rem;min-height:300px;color:var(--mat-sys-on-surface-variant);flex-grow:1}.tasks-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(450px,1fr));align-items:start}.task-card[_ngcontent-%COMP%]{border:1px solid var(--mat-sys-outline-variant);box-shadow:none;border-radius:12px;padding:0;display:flex;flex-direction:column;background-color:var(--mat-sys-surface);transition:transform .2s ease,box-shadow .2s ease}.task-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000000d}.card-content-wrapper[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:space-between;align-items:flex-start;gap:1.5rem;flex-wrap:wrap}.info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex:1;min-width:200px}.barcode-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}.barcode-row[_ngcontent-%COMP%]   .qr-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:2px;flex-shrink:0}.barcode-row[_ngcontent-%COMP%]   .barcode[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-weight:600;font-size:1.25rem;color:var(--mat-sys-on-surface);word-break:break-all;line-height:1.4}.contents-row[_ngcontent-%COMP%]{font-size:1rem;color:var(--mat-sys-on-surface-variant);padding-left:2.25rem;line-height:1.5}.location-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem;flex-shrink:0;max-width:50%}.location-section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;color:var(--mat-sys-on-surface-variant);font-weight:600;letter-spacing:.05em}.location-section[_ngcontent-%COMP%]   .location-badge[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container);padding:.35rem 1rem;border-radius:8px;font-weight:600;font-size:.95rem;text-align:right;white-space:normal;word-break:break-word;line-height:1.4;height:auto}.compact-actions[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background-color:var(--mat-sys-surface-container-lowest);border-top:1px solid var(--mat-sys-outline-variant-low);gap:.75rem;flex-wrap:wrap}.compact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-mdc-button-touch-target{height:40px}.empty-list-message[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:300px;text-align:center;gap:1rem;padding:2rem;color:var(--mat-sys-on-surface-variant);border:2px dashed var(--mat-sys-outline-variant-low);border-radius:12px}.empty-list-message[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:var(--mat-sys-outline);opacity:.5}.empty-list-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:500;color:var(--mat-sys-on-surface)}.empty-list-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@media (max-width: 768px){.report-container[_ngcontent-%COMP%]{padding:1rem}.card-content-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1.5rem}.location-section[_ngcontent-%COMP%]{align-items:flex-start;max-width:100%;padding-left:2.25rem}.location-section[_ngcontent-%COMP%]   .location-badge[_ngcontent-%COMP%]{text-align:left}}"]})};export{U as PutawayListComponent};
