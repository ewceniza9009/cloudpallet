import{a as ye,b as xe}from"./chunk-IDTNBWSC.js";import{a as _e}from"./chunk-LPW7ZKDP.js";import"./chunk-JJ2A35WS.js";import"./chunk-MS4AQ6UA.js";import{d as re,h as me,i as le}from"./chunk-AR7DOULP.js";import"./chunk-CFEBTJKT.js";import{a as z,b as R}from"./chunk-HQHXVMDV.js";import"./chunk-E4XFWEKX.js";import{b as ae,c as oe}from"./chunk-JJ4H6OAC.js";import{b as Z,c as ee,d as te,i as ne,j as ie}from"./chunk-XOBVZ7HT.js";import{a as ge}from"./chunk-YNYX5A3H.js";import"./chunk-3AIDC2CP.js";import"./chunk-ISLNSOXI.js";import{b as W,d as p,g as j,h as U,l as H,o as Q,p as K,r as $,t as J,u as X,w as Y}from"./chunk-OPXM5N2G.js";import"./chunk-2ATSTUKT.js";import{o as B,p as L}from"./chunk-362WG5KS.js";import{a as fe,b as Ce}from"./chunk-JQRCIVV7.js";import"./chunk-2G4RJFBR.js";import{a as de,b as pe,c as se,f as ce,i as ue}from"./chunk-BKLGZBQH.js";import{G as V,H as A}from"./chunk-PPJHYCVS.js";import{j as T,t as G}from"./chunk-DHGPXNCW.js";import{$b as k,Aa as f,Ab as s,Ob as C,Pb as _,Ub as d,Vb as t,Wb as e,Xb as m,ac as D,cc as v,hb as r,hc as h,jc as g,la as y,qa as x,ra as M,ub as N,xc as n,yc as S}from"./chunk-N46UG6V3.js";function he(i,a){i&1&&(t(0,"div",1),m(1,"mat-progress-spinner",3),t(2,"span"),n(3,"Loading Company Information..."),e()())}function ve(i,a){i&1&&(m(0,"mat-progress-spinner",43),t(1,"span"),n(2,"Saving..."),e())}function Se(i,a){i&1&&(k(0),t(1,"mat-icon"),n(2,"save"),e(),t(3,"span"),n(4,"Save Changes"),e(),D())}function Ee(i,a){if(i&1){let o=v();t(0,"button",41),h("click",function(){x(o);let c=g(2);return M(c.toggleEditMode(!1))}),t(1,"mat-icon"),n(2,"cancel"),e(),t(3,"span"),n(4,"Cancel"),e()(),t(5,"button",42),h("click",function(){x(o);let c=g(2);return M(c.save())}),C(6,ve,3,0)(7,Se,5,0,"ng-container"),e()}if(i&2){let o=g(2);r(5),d("disabled",o.isSaving()),r(),_(o.isSaving()?6:7)}}function be(i,a){if(i&1){let o=v();t(0,"button",44),h("click",function(){x(o);let c=g(2);return M(c.toggleEditMode(!0))}),t(1,"mat-icon"),n(2,"edit"),e(),t(3,"span"),n(4,"Edit Details"),e()()}}function Pe(i,a){i&1&&(t(0,"mat-error"),n(1,"Name is required"),e())}function Oe(i,a){i&1&&(t(0,"mat-error"),n(1,"Tax ID is required"),e())}function we(i,a){i&1&&(t(0,"mat-error"),n(1,"Phone is required"),e())}function Fe(i,a){i&1&&(t(0,"mat-error"),n(1,"Email is required"),e())}function Ie(i,a){i&1&&(t(0,"mat-error"),n(1,"Invalid email format"),e())}function qe(i,a){i&1&&(t(0,"mat-error"),n(1,"Street is required"),e())}function Ne(i,a){i&1&&(t(0,"mat-error"),n(1,"City is required"),e())}function ke(i,a){i&1&&(t(0,"mat-error"),n(1,"State/Province is required"),e())}function De(i,a){i&1&&(t(0,"mat-error"),n(1,"Postal Code is required"),e())}function Te(i,a){i&1&&(t(0,"mat-error"),n(1,"Country is required"),e())}function Ge(i,a){if(i&1&&(t(0,"div",40),m(1,"mat-divider"),t(2,"div",45)(3,"div",46)(4,"span",47),n(5,"Status"),e(),t(6,"span",48),n(7),e()(),t(8,"div",46)(9,"span",47),n(10,"Subscription Plan"),e(),t(11,"span",48),n(12),e()()()()),i&2){let o=a;r(7),S(o.status),r(5),S(o.subscriptionPlan||"N/A")}}function Ve(i,a){if(i&1&&(t(0,"div",2)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h2"),n(5,"Company Information"),e(),t(6,"p",7),n(7,"Manage your organization's details."),e()()(),t(8,"div",8),C(9,Ee,8,2)(10,be,5,0,"button",9),e()(),t(11,"form",10)(12,"div",11)(13,"div",12)(14,"mat-card",13)(15,"mat-card-header")(16,"mat-card-title"),n(17,"Company Profile"),e()(),t(18,"mat-card-content",14)(19,"mat-form-field",15)(20,"mat-label"),n(21,"Company Name"),e(),m(22,"input",16),s(23,Pe,2,0,"mat-error",17),e(),t(24,"mat-form-field",15)(25,"mat-label"),n(26,"Tax ID / Registration No."),e(),m(27,"input",18),s(28,Oe,2,0,"mat-error",17),e()()(),t(29,"mat-card",13)(30,"mat-card-header")(31,"mat-card-title"),n(32,"Contact Information"),e()(),t(33,"mat-card-content",14)(34,"mat-form-field",15)(35,"mat-label"),n(36,"Phone Number"),e(),m(37,"input",19),s(38,we,2,0,"mat-error",17),e(),t(39,"mat-form-field",15)(40,"mat-label"),n(41,"Email Address"),e(),m(42,"input",20),s(43,Fe,2,0,"mat-error",17)(44,Ie,2,0,"mat-error",17),e(),t(45,"mat-form-field",21)(46,"mat-label"),n(47,"Website (Optional)"),e(),m(48,"input",22),e()()()(),t(49,"div",23)(50,"mat-card",24)(51,"mat-card-header")(52,"mat-card-title"),n(53,"Location Address"),e()(),t(54,"mat-card-content",14)(55,"mat-form-field",21)(56,"mat-label"),n(57,"Street Address"),e(),m(58,"input",25),s(59,qe,2,0,"mat-error",17),e(),t(60,"mat-form-field",15)(61,"mat-label"),n(62,"City"),e(),m(63,"input",26),s(64,Ne,2,0,"mat-error",17),e(),t(65,"mat-form-field",15)(66,"mat-label"),n(67,"State / Province"),e(),m(68,"input",27),s(69,ke,2,0,"mat-error",17),e(),t(70,"mat-form-field",15)(71,"mat-label"),n(72,"Postal Code"),e(),m(73,"input",28),s(74,De,2,0,"mat-error",17),e(),t(75,"mat-form-field",15)(76,"mat-label"),n(77,"Country"),e(),m(78,"input",29),s(79,Te,2,0,"mat-error",17),e()()(),t(80,"mat-card",13)(81,"mat-card-header")(82,"mat-card-title"),n(83,"Settings & System"),e()(),t(84,"mat-card-content",14)(85,"div",30)(86,"mat-form-field",31)(87,"mat-label"),n(88,"GS1 Company Prefix"),e(),m(89,"input",32),t(90,"mat-hint"),n(91,"Used for SSCC generation"),e()(),t(92,"mat-form-field",31)(93,"mat-label"),n(94,"Default Barcode Format"),e(),t(95,"mat-select",33)(96,"mat-option",34),n(97,"SSCC-18"),e(),t(98,"mat-option",35),n(99,"Code 128"),e(),t(100,"mat-option",36),n(101,"QR Code"),e()()()(),t(102,"div",37)(103,"mat-slide-toggle",38),n(104," Picking Weight Read-Only "),e(),t(105,"p",39),n(106,"If enabled, the weight field in picking confirmation will be read-only."),e()(),C(107,Ge,13,2,"div",40),e()()()()()()),i&2){let o,u,c,E,b,P,O,w,F,I,q,l=g();r(9),_(l.isEditMode()?9:10),r(2),d("formGroup",l.companyForm),r(12),d("ngIf",(o=l.companyForm.get("name"))==null?null:o.hasError("required")),r(5),d("ngIf",(u=l.companyForm.get("taxId"))==null?null:u.hasError("required")),r(10),d("ngIf",(c=l.companyForm.get("phoneNumber"))==null?null:c.hasError("required")),r(5),d("ngIf",(E=l.companyForm.get("email"))==null?null:E.hasError("required")),r(),d("ngIf",(b=l.companyForm.get("email"))==null?null:b.hasError("email")),r(15),d("ngIf",(P=l.addressFormGroup.get("street"))==null?null:P.hasError("required")),r(5),d("ngIf",(O=l.addressFormGroup.get("city"))==null?null:O.hasError("required")),r(5),d("ngIf",(w=l.addressFormGroup.get("state"))==null?null:w.hasError("required")),r(5),d("ngIf",(F=l.addressFormGroup.get("postalCode"))==null?null:F.hasError("required")),r(5),d("ngIf",(I=l.addressFormGroup.get("country"))==null?null:I.hasError("required")),r(28),_((q=l.companyDetails())?107:-1,q)}}var Me=class i{fb=y(X);adminApi=y(_e);snackBar=y(ge);companyForm;isLoading=f(!0);isSaving=f(!1);isEditMode=f(!1);companyDetails=f(null);constructor(){this.companyForm=this.fb.group({name:["",p.required],taxId:["",p.required],address:this.fb.group({street:["",p.required],city:["",p.required],state:["",p.required],postalCode:["",p.required],country:["",p.required]}),phoneNumber:["",p.required],email:["",[p.required,p.email]],website:[""],gs1CompanyPrefix:["",[p.maxLength(20)]],defaultBarcodeFormat:["SSCC-18",[p.maxLength(20)]],isPickingWeightReadonly:[!1]}),this.companyForm.disable()}ngOnInit(){this.loadCompanyDetails()}loadCompanyDetails(){this.isLoading.set(!0),this.adminApi.getCompanyDetails().subscribe({next:a=>{this.companyDetails.set(a),this.companyForm.patchValue(a),this.isLoading.set(!1),this.isEditMode.set(!1),this.companyForm.disable()},error:()=>{this.snackBar.open("Failed to load company details.","Close",{duration:5e3}),this.isLoading.set(!1)}})}toggleEditMode(a){this.isEditMode.set(a),a?this.companyForm.enable():(this.companyDetails()&&this.companyForm.patchValue(this.companyDetails()),this.companyForm.disable())}save(){if(this.companyForm.invalid){this.snackBar.open("Please fill in all required fields.","Close",{duration:3e3}),this.companyForm.markAllAsTouched();return}this.isSaving.set(!0);let a=this.companyForm.value;this.adminApi.updateCompanyDetails(a).subscribe({next:()=>{this.snackBar.open("Company details updated successfully.","OK",{duration:3e3}),this.isSaving.set(!1),this.toggleEditMode(!1),this.loadCompanyDetails()},error:o=>{this.snackBar.open(`Error: ${o.error?.title||"Failed to update company details."}`,"Close",{duration:5e3}),this.isSaving.set(!1)}})}get addressFormGroup(){return this.companyForm.get("address")}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=N({type:i,selectors:[["app-company-management"]],decls:3,vars:1,consts:[[1,"management-container"],[1,"spinner-container"],[1,"company-detail-wrapper"],["mode","indeterminate"],[1,"detail-header"],[1,"header-main"],[1,"title-group"],[1,"subtitle"],[1,"header-actions"],["mat-stroked-button","","color","primary"],[1,"detail-form",3,"formGroup"],[1,"layout-grid"],[1,"column","left-column"],[1,"detail-card"],[1,"form-grid"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","taxId","required",""],["matInput","","formControlName","phoneNumber","required",""],["matInput","","type","email","formControlName","email","required",""],["appearance","outline","subscriptSizing","dynamic",1,"full-width"],["matInput","","formControlName","website"],[1,"column","right-column"],["formGroupName","address",1,"detail-card"],["matInput","","formControlName","street","required",""],["matInput","","formControlName","city","required",""],["matInput","","formControlName","state","required",""],["matInput","","formControlName","postalCode","required",""],["matInput","","formControlName","country","required",""],[1,"full-width","settings-row"],["appearance","outline"],["matInput","","formControlName","gs1CompanyPrefix","placeholder","e.g. 0123456"],["formControlName","defaultBarcodeFormat"],["value","SSCC-18"],["value","Code128"],["value","QR"],[1,"full-width","mt-3"],["formControlName","isPickingWeightReadonly","color","primary"],[1,"setting-hint"],[1,"system-info-section","full-width"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],["diameter","20","mode","indeterminate"],["mat-stroked-button","","color","primary",3,"click"],[1,"info-grid","mt-3"],[1,"info-item"],[1,"info-label"],[1,"info-value"]],template:function(o,u){o&1&&(t(0,"div",0),C(1,he,4,0,"div",1)(2,Ve,108,13,"div",2),e()),o&2&&(r(),_(u.isLoading()?1:2))},dependencies:[G,T,Y,H,W,j,U,J,Q,$,K,ue,de,se,ce,pe,ie,ne,Z,te,ee,oe,ae,L,B,A,V,Ce,fe,R,z,le,me,re,xe,ye],styles:["[_nghost-%COMP%]{display:block;height:100%}.management-container[_ngcontent-%COMP%]{padding:1.5rem 2.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem;height:calc(100vh - 64px - 3rem);overflow:auto}.company-detail-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:3rem;min-height:300px;color:var(--mat-sys-on-surface-variant)}.detail-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;padding-bottom:1rem;border-bottom:1px solid var(--mat-sys-outline-variant)}.header-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-grow:1;min-width:0}.title-group[_ngcontent-%COMP%]{min-width:0}.title-group[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:1.75rem}.title-group[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:var(--mat-sys-on-surface-variant)}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}.detail-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.layout-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;align-items:start}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.detail-card[_ngcontent-%COMP%]{border:1px solid var(--mat-sys-outline-variant);box-shadow:0 2px 4px #0000000a;border-radius:8px}.detail-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{padding:.75rem 1.25rem .5rem;border-bottom:1px solid var(--mat-sys-outline-variant);background-color:var(--mat-sys-surface-container-lowest)}.detail-card[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500}.detail-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding:1.25rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem}.full-width[_ngcontent-%COMP%]{grid-column:1/-1}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + mat-icon[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:8px}.read-only-card[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--mat-sys-on-surface-variant);text-transform:uppercase}.info-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:var(--mat-sys-on-surface)}.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.system-info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.settings-row[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.settings-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:300px;max-width:100%}.setting-hint[_ngcontent-%COMP%]{display:block;margin-top:.25rem;font-size:.75rem;color:var(--mat-sys-on-surface-variant)}@media (max-width: 1024px){.layout-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.management-container[_ngcontent-%COMP%]{padding:1rem;height:calc(100vh - 64px - 2rem)}}"]})};export{Me as CompanyManagementComponent};
