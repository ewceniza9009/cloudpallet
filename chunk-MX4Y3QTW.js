import{a as mt}from"./chunk-CK7JTE2X.js";import{b as tt,c as et}from"./chunk-RFTLLO7Q.js";import{b as J,f as K,i as Q,j as X}from"./chunk-LJJEMR6T.js";import{d as N,e as V,h as j}from"./chunk-QKDH2S6W.js";import"./chunk-PVDG46DZ.js";import{a as ot}from"./chunk-VN4UBBCE.js";import{b as nt}from"./chunk-BT64ZR4J.js";import{b as G,g as U,j as W,n as Y,w as q}from"./chunk-AMYPGFIW.js";import"./chunk-NQGOHOUR.js";import{m as H,o as Z,p as $}from"./chunk-2LKGOGN5.js";import{a as at,b as ct}from"./chunk-NAFMYLXR.js";import"./chunk-PHPS4OQU.js";import{a as rt,i as it}from"./chunk-NCMEPRDZ.js";import{G as A,H as B}from"./chunk-3GOW57GU.js";import{h as D,q as I,t as F}from"./chunk-HYNCXMIA.js";import{Aa as C,Ac as R,Ic as u,L as y,Lc as T,Nc as z,Ob as S,Pb as k,Q as h,Sb as L,Tb as E,Ub as s,Vb as t,Wb as e,Xb as P,_ as b,cc as O,hb as a,hc as d,jc as _,la as M,qa as g,ra as p,ub as w,w as v,xc as o,yc as f,zc as l}from"./chunk-N46UG6V3.js";var x=c=>["/setup/rooms/detail",c],lt=(c,r)=>r.id;function dt(c,r){c&1&&(t(0,"div",11),P(1,"mat-progress-spinner",13),t(2,"span"),o(3,"Loading rooms..."),e()())}function gt(c,r){if(c&1){let n=O();t(0,"mat-card",14)(1,"div",16)(2,"div",17)(3,"h3",18),o(4),e(),t(5,"span",19),o(6),e()(),t(7,"button",20),d("click",function(m){return g(n),p(m.stopPropagation())}),t(8,"mat-icon"),o(9,"settings"),e()()(),t(10,"div",21)(11,"div",22)(12,"div",23)(13,"mat-icon",24),o(14,"thermostat"),e(),t(15,"div",25)(16,"span",26),o(17),e(),t(18,"span",27),o(19,"to"),e(),t(20,"span",28),o(21),e()()(),t(22,"div",29),o(23),T(24,"number"),e()(),t(25,"div",30)(26,"div",31)(27,"div",32),o(28),e(),t(29,"div",33),o(30,"Locations"),e()(),t(31,"div",31)(32,"div",32),o(33),e(),t(34,"div",33),o(35,"Density"),e()()(),t(36,"div",34)(37,"mat-icon"),o(38,"category"),e(),t(39,"span"),o(40),e()()(),t(41,"div",35)(42,"div",36)(43,"button",37),d("click",function(m){return g(n),p(m.stopPropagation())}),t(44,"mat-icon"),o(45,"visibility"),e(),t(46,"span"),o(47,"Manage Locations"),e()()()()()}if(c&2){let n=r.$implicit,i=_(2);s("routerLink",u(15,x,n.id)),a(4),f(n.name),a(),s("ngClass",i.getServiceTypeClass(n.serviceType)),a(),l(" ",n.serviceType," "),a(),s("routerLink",u(17,x,n.id)),a(10),l("",n.minTemp,"\xB0C"),a(4),l("",n.maxTemp,"\xB0C"),a(2),l(" Avg: ",z(24,12,(n.minTemp+n.maxTemp)/2,"1.0-0"),"\xB0C "),a(5),f(n.locationCount||0),a(5),f(i.getLocationDensity(n)),a(7),l("",n.serviceType," Zone"),a(3),s("routerLink",u(19,x,n.id))}}function pt(c,r){if(c&1){let n=O();t(0,"div",15)(1,"div",38)(2,"mat-icon"),o(3,"door_sliding"),e()(),t(4,"h3"),o(5,"No rooms found"),e(),t(6,"p"),o(7,"Get started by creating your first storage room or zone"),e(),t(8,"button",39),d("click",function(){g(n);let m=_(2);return p(m.createNew())}),t(9,"mat-icon"),o(10,"add"),e(),t(11,"span"),o(12,"Create Room"),e()()()}}function Ct(c,r){if(c&1&&(t(0,"div",12),L(1,gt,48,21,"mat-card",14,lt,!1,pt,13,0,"div",15),e()),c&2){let n=_();a(),E(n.filteredRooms())}}var st=class c{adminSetupApi=M(mt);router=M(N);rooms=C([]);filteredRooms=C([]);isLoading=C(!0);searchControl=new W("");ngOnInit(){this.loadData(),this.searchControl.valueChanges.pipe(b(""),y(300),h(),v(r=>this._filter(r||""))).subscribe(r=>this.filteredRooms.set(r))}loadData(){this.isLoading.set(!0),this.adminSetupApi.getAllRooms().subscribe({next:r=>{this.rooms.set(r),this.filteredRooms.set(r),this.isLoading.set(!1)},error:r=>{console.error("Failed to load rooms:",r),this.isLoading.set(!1)}})}_filter(r){let n=r.toLowerCase();return this.rooms().filter(i=>i.name.toLowerCase().includes(n)||i.serviceType.toLowerCase().includes(n)||i.minTemp.toString().includes(n)||i.maxTemp.toString().includes(n))}createNew(){this.router.navigate(["/setup/rooms/detail","new"])}getServiceTypeClass(r){return r.toLowerCase().replace(/\s+/g,"")}getLocationDensity(r){return!r.locationCount||r.locationCount===0?"None":r.locationCount<10?"Low":r.locationCount<50?"Medium":r.locationCount<100?"High":"Very High"}static \u0275fac=function(n){return new(n||c)};static \u0275cmp=w({type:c,selectors:[["app-room-list"]],decls:23,vars:4,consts:[[1,"list-container"],[1,"list-header"],[1,"header-content"],[1,"list-title"],[1,"list-subtitle"],["mat-flat-button","","color","primary",1,"create-button",3,"click"],[1,"search-section"],["appearance","outline",1,"search-bar"],["matInput","","placeholder","Search by name, service type, or temperature",3,"formControl"],["matSuffix",""],[1,"results-count"],[1,"spinner-container"],[1,"room-grid"],["mode","indeterminate","diameter","40"],["tabindex","0",1,"room-card",3,"routerLink"],[1,"empty-state"],[1,"card-header"],[1,"room-name-section"],[1,"room-name"],[1,"service-type-badge",3,"ngClass"],["mat-icon-button","","matTooltip","Manage room",1,"edit-button",3,"click","routerLink"],[1,"card-content"],[1,"temperature-section"],[1,"temp-display"],[1,"temp-icon"],[1,"temp-range"],[1,"temp-min"],[1,"temp-separator"],[1,"temp-max"],[1,"temp-average"],[1,"stats-section"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"room-info"],[1,"card-footer"],[1,"footer-actions"],["mat-stroked-button","","color","primary",1,"view-button",3,"click","routerLink"],[1,"empty-icon"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,i){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"Rooms & Zones"),e(),t(5,"p",4),o(6,"Manage storage rooms, temperature zones, and their locations"),e()(),t(7,"button",5),d("click",function(){return i.createNew()}),t(8,"mat-icon"),o(9,"add"),e(),t(10,"span"),o(11,"New Room"),e()()(),t(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),o(15,"Search rooms..."),e(),P(16,"input",8),t(17,"mat-icon",9),o(18,"search"),e()(),t(19,"div",10),o(20),e()(),S(21,dt,4,0,"div",11)(22,Ct,4,1,"div",12),e()),n&2&&(a(16),s("formControl",i.searchControl),a(4),R(" ",i.filteredRooms().length," of ",i.rooms().length," rooms "),a(),k(i.isLoading()?21:22))},dependencies:[F,D,j,V,q,G,U,Y,it,rt,X,Q,J,K,et,tt,B,A,$,Z,H,ct,at,ot,nt,I],styles:["[_nghost-%COMP%]{display:block;height:100%}.list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;height:100%}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;padding-bottom:1rem;border-bottom:1px solid var(--mat-sys-outline-variant)}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:1.75rem;color:var(--mat-sys-on-surface)}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .list-subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--mat-sys-on-surface-variant);font-size:.9rem}.list-header[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{flex-shrink:0}.list-header[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.search-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}.search-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{flex:1;min-width:300px}.search-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);font-size:.875rem;white-space:nowrap}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:3rem;color:var(--mat-sys-on-surface-variant)}.room-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:1.5rem;align-items:start}@media (max-width: 768px){.room-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.room-card[_ngcontent-%COMP%]{border:1px solid var(--mat-sys-outline-variant);border-radius:12px;transition:all .2s ease-in-out;cursor:pointer;height:fit-content}.room-card[_ngcontent-%COMP%]:hover{border-color:var(--mat-sys-primary);box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.room-card[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--mat-sys-primary);outline-offset:2px}.room-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem;padding:1.25rem 1.25rem .75rem}.room-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .room-name-section[_ngcontent-%COMP%]{flex:1;min-width:0}.room-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .room-name-section[_ngcontent-%COMP%]   .room-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:600;color:var(--mat-sys-on-surface);line-height:1.3;word-wrap:break-word}.room-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{flex-shrink:0;margin:-8px -8px 0 0}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1.25rem 1rem;display:flex;flex-direction:column;gap:1.25rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:var(--mat-sys-surface-container-low);border-radius:8px}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-display[_ngcontent-%COMP%]   .temp-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:1.5rem;width:1.5rem;height:1.5rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-display[_ngcontent-%COMP%]   .temp-range[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-weight:500}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-display[_ngcontent-%COMP%]   .temp-range[_ngcontent-%COMP%]   .temp-min[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:1.1rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-display[_ngcontent-%COMP%]   .temp-range[_ngcontent-%COMP%]   .temp-separator[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);font-size:.8rem;margin:0 .25rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-display[_ngcontent-%COMP%]   .temp-range[_ngcontent-%COMP%]   .temp-max[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-size:1.1rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-average[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);font-size:.8rem;font-weight:500}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:space-around}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--mat-sys-primary);line-height:1}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mat-sys-on-surface-variant);margin-top:.25rem;text-transform:uppercase;letter-spacing:.5px}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding-top:.75rem;border-top:1px solid var(--mat-sys-outline-variant)}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;color:var(--mat-sys-on-surface-variant)}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:var(--mat-sys-on-surface);font-weight:500}.room-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;border-top:1px solid var(--mat-sys-outline-variant)}.room-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.room-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.service-type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.service-type-badge.storage[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}.service-type-badge.frozenstorage[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;border:1px solid #bbdefb}.service-type-badge.coolstorage[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32;border:1px solid #c8e6c9}.service-type-badge.deepfrozenstorage[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#0d47a1;border:1px solid #bbdefb}.service-type-badge.ultstorage[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2;border:1px solid #e1bee7}.service-type-badge.blasting[_ngcontent-%COMP%]{background-color:#fff3e0;color:#ef6c00;border:1px solid #ffe0b2}.service-type-badge.chilling[_ngcontent-%COMP%]{background-color:#e0f2f1;color:#00695c;border:1px solid #b2dfdb}.service-type-badge.handling[_ngcontent-%COMP%]{background-color:#fce4ec;color:#c2185b;border:1px solid #f8bbd9}.service-type-badge.staging[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00;border:1px solid #ffecb3}.service-type-badge.crossdock[_ngcontent-%COMP%]{background-color:#e8eaf6;color:#303f9f;border:1px solid #c5cae9}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:4rem 2rem;grid-column:1/-1;color:var(--mat-sys-on-surface-variant)}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;border-radius:50%;background-color:var(--mat-sys-surface-container-high);margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:var(--mat-sys-on-surface-variant)}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;font-weight:500;color:var(--mat-sys-on-surface)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1rem;max-width:400px;line-height:1.5}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 480px){.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.list-header[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{align-self:flex-end}.search-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.search-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{min-width:unset}.search-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{align-self:flex-end}.room-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.room-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem 1rem .5rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1rem .75rem;gap:1rem}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;align-items:flex-start}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temp-average[_ngcontent-%COMP%]{align-self:flex-end}.room-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{gap:1rem}.room-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem}}"]})};export{st as RoomListComponent};
