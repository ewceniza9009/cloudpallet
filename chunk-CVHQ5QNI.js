import{a as se,b as de}from"./chunk-QB3WRE4Q.js";import{a as ee}from"./chunk-CZWSOGJE.js";import{b as Wt,c as Qt,f as Ut,g as Jt}from"./chunk-6VWEIHEL.js";import{a as Yt,b as Xt,c as Zt,d as te}from"./chunk-OGFXWCLG.js";import{a as Ft,b as Lt,c as Nt,d as Rt,e as zt,f as Bt,g as Gt,h as Ht,i as $t,j as jt,l as qt}from"./chunk-IE2HMRD4.js";import{a as _t}from"./chunk-IAZAIEWP.js";import{a as re,b as le,c as me,h as ce}from"./chunk-UYAPIC3O.js";import{a as ne,b as ie,c as ae}from"./chunk-Q74Q4XXZ.js";import{a as oe}from"./chunk-D743XRKB.js";import"./chunk-OUNZMEYF.js";import"./chunk-JJ2A35WS.js";import"./chunk-MS4AQ6UA.js";import{d as Et,i as Tt}from"./chunk-AR7DOULP.js";import{a as ct,b as st,c as dt,d as Kt,e as pt,f as gt,g as ut,h as U}from"./chunk-T7FV3XRB.js";import"./chunk-E4XFWEKX.js";import{b as W,c as Q}from"./chunk-JJ4H6OAC.js";import{b as at,c as Dt,f as St,i as ot,j as q}from"./chunk-XOBVZ7HT.js";import"./chunk-PVDG46DZ.js";import{a as kt}from"./chunk-FTTQQNBZ.js";import{a as rt,b as lt}from"./chunk-YNYX5A3H.js";import{b as Vt}from"./chunk-LJS4T7OK.js";import"./chunk-3AIDC2CP.js";import"./chunk-ISLNSOXI.js";import{b as R,d as O,g as z,h as B,l as it,m as wt,o as G,r as H,u as $,w as j}from"./chunk-OPXM5N2G.js";import"./chunk-2ATSTUKT.js";import{m as nt,o as L,p as N}from"./chunk-362WG5KS.js";import{a as At,b as mt}from"./chunk-JQRCIVV7.js";import"./chunk-SVDPSKVI.js";import{a as yt}from"./chunk-2G4RJFBR.js";import{i as It}from"./chunk-BKLGZBQH.js";import{G as A,H as F}from"./chunk-PPJHYCVS.js";import{C as ht,i as xt,j as tt,o as et,p as bt,q as Pt,s as Ot,t as I}from"./chunk-DHGPXNCW.js";import{$b as D,Aa as y,Ab as f,Ac as Ct,Lc as v,Mc as Z,Nc as h,Ob as g,Oc as vt,Pb as u,Sb as Y,Tb as X,Ub as c,Vb as n,Wb as e,Xb as _,ac as S,cc as E,hb as r,hc as C,jc as d,la as x,nb as w,qa as b,ra as P,tc as K,ub as k,vc as T,xc as a,yc as s,zc as M}from"./chunk-N46UG6V3.js";function Pe(i,o){i&1&&(n(0,"mat-error"),a(1," Reason is required "),e())}function Oe(i,o){i&1&&(n(0,"mat-error"),a(1," Reason must be at least 3 characters "),e())}var J=class i{constructor(o,t,l){this.fb=o;this.dialogRef=t;this.data=l;this.form=this.fb.group({reason:["",[O.required,O.minLength(3)]]})}form;submit(){this.form.valid&&this.dialogRef.close(this.form.get("reason")?.value)}static \u0275fac=function(t){return new(t||i)(w($),w(ct),w(st))};static \u0275cmp=k({type:i,selectors:[["app-reason-dialog"]],decls:20,vars:12,consts:[["mat-dialog-title","",1,"dialog-header"],[1,"dialog-message"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","reason","rows","3","cdkFocusInitial",""],[4,"ngIf"],["align","end"],["mat-stroked-button","","mat-dialog-close",""],["mat-flat-button","",3,"click","color","disabled"]],template:function(t,l){if(t&1&&(n(0,"h2",0)(1,"mat-icon"),a(2),e(),n(3,"span"),a(4),e()(),n(5,"mat-dialog-content")(6,"p",1),a(7),e(),n(8,"form",2),C("ngSubmit",function(){return l.submit()}),n(9,"mat-form-field",3)(10,"mat-label"),a(11),e(),_(12,"textarea",4),f(13,Pe,2,0,"mat-error",5)(14,Oe,2,0,"mat-error",5),e()()(),n(15,"mat-dialog-actions",6)(16,"button",7),a(17,"Cancel"),e(),n(18,"button",8),C("click",function(){return l.submit()}),a(19),e()()),t&2){let m,p;r(),T("warn-icon",l.data.warn),r(),s(l.data.warn?"warning":"edit"),r(2),s(l.data.title),r(3),s(l.data.message),r(),c("formGroup",l.form),r(3),s(l.data.label),r(2),c("ngIf",(m=l.form.get("reason"))==null?null:m.hasError("required")),r(),c("ngIf",(p=l.form.get("reason"))==null?null:p.hasError("minlength")),r(4),c("color",l.data.warn?"warn":"primary")("disabled",l.form.invalid),r(),M(" ",l.data.confirmText," ")}},dependencies:[I,tt,j,it,R,z,B,G,H,U,Kt,pt,ut,gt,N,L,q,ot,at,Dt,Q,W,F,A],styles:[".dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.dialog-header[_ngcontent-%COMP%]   mat-icon.warn-icon[_ngcontent-%COMP%]{color:#f44336}.dialog-message[_ngcontent-%COMP%]{margin-bottom:16px;color:#555}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-actions[_ngcontent-%COMP%]{padding-bottom:16px;padding-right:16px}"]})};var Mt=(i,o)=>o.id;function he(i,o){i&1&&(n(0,"div",7),_(1,"mat-spinner",12),n(2,"p"),a(3,"Loading transaction details..."),e()())}function ye(i,o){i&1&&(n(0,"div",22)(1,"mat-icon"),a(2,"warning"),e(),n(3,"span"),a(4,"This transaction has been VOIDED. Amendments are disabled."),e()())}function we(i,o){if(i&1&&(n(0,"div",30)(1,"mat-icon",31),a(2,"input"),e(),n(3,"span"),a(4,"Input Lines"),e(),n(5,"span",32),a(6),e()()),i&2){let t=d(2);r(6),s(t.transaction().inputLines.length)}}function De(i,o){i&1&&(n(0,"div",26)(1,"mat-icon"),a(2,"inbox"),e(),n(3,"p"),a(4,"No input lines found."),e()())}function Se(i,o){i&1&&(n(0,"span",40),a(1,"AMENDED"),e())}function Ee(i,o){i&1&&(n(0,"span",41),a(1,"Missing Material Data"),e())}function Te(i,o){if(i&1&&(n(0,"div",43)(1,"span",17),a(2,"Wgt"),e(),n(3,"span",19),a(4),v(5,"number"),n(6,"small"),a(7,"kg"),e()()()),i&2){let t=d().$implicit;r(4),M("",h(5,1,t.weight,"1.2-2")," ")}}function Ve(i,o){i&1&&(n(0,"mat-form-field",47)(1,"mat-label"),a(2,"New Wgt (kg)"),e(),_(3,"input",54),e())}function ke(i,o){if(i&1&&(n(0,"div",51)(1,"mat-icon"),a(2,"history"),e(),n(3,"span"),a(4),e()()),i&2){let t=d().$implicit;r(4),Ct("Original: ",t.originalQuantity," | ",t.originalWeight," kg")}}function Ie(i,o){if(i&1){let t=E();n(0,"mat-expansion-panel",34,0)(2,"mat-expansion-panel-header",35)(3,"div",36)(4,"div",37)(5,"div",38)(6,"span",39),a(7),e(),g(8,Se,2,0,"span",40),e(),g(9,Ee,2,0,"span",41),e(),n(10,"div",42)(11,"div",43)(12,"span",17),a(13,"Qty"),e(),n(14,"span",19),a(15),v(16,"number"),e()(),g(17,Te,8,4,"div",43),e()()(),n(18,"div",44)(19,"div",45)(20,"div",46)(21,"mat-form-field",47)(22,"mat-label"),a(23),e(),_(24,"input",48),e(),g(25,Ve,4,0,"mat-form-field",47),n(26,"mat-form-field",49)(27,"mat-label"),a(28,"Reason for Amendment"),e(),_(29,"input",50),e()(),g(30,ke,5,2,"div",51),n(31,"div",52)(32,"button",53),C("click",function(){let m=b(t).$implicit,p=d(3);return P(p.amendLine(m))}),a(33," Save Changes "),e()()()()()}if(i&2){let t=o.$implicit,l=d(3);r(2),c("collapsedHeight","64px")("expandedHeight","64px"),r(4),T("text-muted",!t.materialId),r(),M(" ",t.materialId?t.materialName||"Unknown Material":"Labor / Service"," "),r(),u(t.isAmended?8:-1),r(),u(t.materialId&&!t.materialName?9:-1),r(6),s(Z(16,14,t.quantity)),r(2),u(t.materialId?17:-1),r(2),c("formGroup",l.getFormGroup(t.id)),r(4),s(t.materialId?"New Qty":"Duration (Hrs)"),r(2),u(t.materialId?25:-1),r(5),u(t.isAmended?30:-1),r(2),c("disabled",l.transaction().isVoided||l.getFormGroup(t.id).invalid||l.getFormGroup(t.id).pristine)}}function Ae(i,o){if(i&1&&(n(0,"div",27)(1,"mat-accordion",33),Y(2,Ie,34,16,"mat-expansion-panel",34,Mt),e()()),i&2){let t=d(2);r(2),X(t.transaction().inputLines)}}function Fe(i,o){if(i&1&&(n(0,"div",30)(1,"mat-icon",31),a(2,"output"),e(),n(3,"span"),a(4,"Output Lines"),e(),n(5,"span",32),a(6),e()()),i&2){let t=d(2);r(6),s(t.transaction().outputLines.length)}}function Le(i,o){i&1&&(n(0,"div",26)(1,"mat-icon"),a(2,"outbox"),e(),n(3,"p"),a(4,"No output lines found."),e()())}function Ne(i,o){i&1&&(n(0,"span",40),a(1,"AMENDED"),e())}function Re(i,o){i&1&&(n(0,"span",41),a(1,"Missing Material Data"),e())}function ze(i,o){if(i&1&&(n(0,"div",43)(1,"span",17),a(2,"Wgt"),e(),n(3,"span",19),a(4),v(5,"number"),n(6,"small"),a(7,"kg"),e()()()),i&2){let t=d().$implicit;r(4),M("",h(5,1,t.weight,"1.2-2")," ")}}function Be(i,o){i&1&&(n(0,"mat-form-field",47)(1,"mat-label"),a(2,"New Wgt (kg)"),e(),_(3,"input",54),e())}function Ge(i,o){if(i&1&&(n(0,"div",51)(1,"mat-icon"),a(2,"history"),e(),n(3,"span"),a(4),e()()),i&2){let t=d().$implicit;r(4),Ct("Original: ",t.originalQuantity," | ",t.originalWeight," kg")}}function He(i,o){if(i&1){let t=E();n(0,"mat-expansion-panel",34,0)(2,"mat-expansion-panel-header",35)(3,"div",36)(4,"div",37)(5,"div",38)(6,"span",39),a(7),e(),g(8,Ne,2,0,"span",40),e(),g(9,Re,2,0,"span",41),e(),n(10,"div",42)(11,"div",43)(12,"span",17),a(13,"Qty"),e(),n(14,"span",19),a(15),v(16,"number"),e()(),g(17,ze,8,4,"div",43),e()()(),n(18,"div",44)(19,"div",45)(20,"div",46)(21,"mat-form-field",47)(22,"mat-label"),a(23),e(),_(24,"input",48),e(),g(25,Be,4,0,"mat-form-field",47),n(26,"mat-form-field",49)(27,"mat-label"),a(28,"Reason for Amendment"),e(),_(29,"input",50),e()(),g(30,Ge,5,2,"div",51),n(31,"div",52)(32,"button",53),C("click",function(){let m=b(t).$implicit,p=d(3);return P(p.amendLine(m))}),a(33," Save Changes "),e()()()()()}if(i&2){let t=o.$implicit,l=d(3);r(2),c("collapsedHeight","64px")("expandedHeight","64px"),r(4),T("text-muted",!t.materialId),r(),M(" ",t.materialId?t.materialName||"Unknown Material":"Labor / Service"," "),r(),u(t.isAmended?8:-1),r(),u(t.materialId&&!t.materialName?9:-1),r(6),s(Z(16,14,t.quantity)),r(2),u(t.materialId?17:-1),r(2),c("formGroup",l.getFormGroup(t.id)),r(4),s(t.materialId?"New Qty":"Duration (Hrs)"),r(2),u(t.materialId?25:-1),r(5),u(t.isAmended?30:-1),r(2),c("disabled",l.transaction().isVoided||l.getFormGroup(t.id).invalid||l.getFormGroup(t.id).pristine)}}function $e(i,o){if(i&1&&(n(0,"div",27)(1,"mat-accordion",33),Y(2,He,34,16,"mat-expansion-panel",34,Mt),e()()),i&2){let t=d(2);r(2),X(t.transaction().outputLines)}}function je(i,o){if(i&1&&(n(0,"div",30)(1,"mat-icon",31),a(2,"history"),e(),n(3,"span"),a(4,"History"),e(),n(5,"span",32),a(6),e()()),i&2){let t=d(2);r(6),s(t.transaction().amendmentHistory.length)}}function qe(i,o){i&1&&(n(0,"div",26)(1,"mat-icon"),a(2,"history"),e(),n(3,"p"),a(4,"No amendment history available."),e()())}function We(i,o){if(i&1&&(n(0,"div",55),_(1,"div",56),n(2,"div",57)(3,"div",58)(4,"span",59),a(5),e(),n(6,"span",60),a(7),v(8,"date"),e()(),n(9,"div",61)(10,"mat-icon"),a(11,"person"),e(),a(12),e(),n(13,"div",62),a(14),e(),n(15,"div",63)(16,"details")(17,"summary"),a(18,"View Technical Details"),e(),n(19,"pre"),a(20),v(21,"json"),e()()()()()),i&2){let t=o.$implicit,l=d(3);r(5),s(t.amendmentType),r(2),s(h(8,5,t.timestamp,"medium")),r(5),M(" ",t.userName," "),r(2),M(' "',t.reason,'" '),r(6),s(Z(21,8,l.parseJson(t.amendmentDetails)))}}function Qe(i,o){if(i&1&&(n(0,"div",29),Y(1,We,22,10,"div",55,Mt),e()),i&2){let t=d(2);r(),X(t.transaction().amendmentHistory)}}function Ue(i,o){if(i&1&&(n(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"span",17),a(5,"Service Type"),e(),n(6,"span",18),a(7),e()(),n(8,"div",16)(9,"span",17),a(10,"Date"),e(),n(11,"span",19),a(12),v(13,"date"),e()(),n(14,"div",16)(15,"span",17),a(16,"User"),e(),n(17,"span",19),a(18),e()()(),n(19,"div",20)(20,"div",21)(21,"span",17),a(22,"Description"),e(),n(23,"span",19),a(24),e()()(),g(25,ye,5,0,"div",22),e()(),n(26,"mat-tab-group",23)(27,"mat-tab"),f(28,we,7,1,"ng-template",24),n(29,"div",25),g(30,De,5,0,"div",26)(31,Ae,4,0,"div",27),e()(),n(32,"mat-tab"),f(33,Fe,7,1,"ng-template",24),n(34,"div",25),g(35,Le,5,0,"div",26)(36,$e,4,0,"div",27),e()(),n(37,"mat-tab"),f(38,je,7,1,"ng-template",24),n(39,"div",28),g(40,qe,5,0,"div",26)(41,Qe,3,0,"div",29),e()()()),i&2){let t=d();r(7),s(t.transaction().serviceType),r(5),s(h(13,8,t.transaction().timestamp,"medium")),r(6),s(t.transaction().userName),r(6),s(t.transaction().description),r(),u(t.transaction().isVoided?25:-1),r(5),u(t.transaction().inputLines.length===0?30:31),r(5),u(t.transaction().outputLines.length===0?35:36),r(5),u(t.transaction().amendmentHistory.length===0?40:41)}}function Je(i,o){if(i&1){let t=E();n(0,"button",64),C("click",function(){b(t);let m=d();return P(m.voidTransaction())}),a(1,"Void Transaction"),e()}}var ft=class i{constructor(o,t){this.dialogRef=o;this.data=t}inventoryApi=x(_t);snackBar=x(rt);fb=x($);dialog=x(dt);transaction=y(null);isLoading=y(!0);amendmentForms=new Map;ngOnInit(){this.loadTransactionDetails()}loadTransactionDetails(){this.inventoryApi.getVasTransactionDetails(this.data.transactionId).subscribe({next:o=>{this.transaction.set(o),this.isLoading.set(!1),[...o.inputLines,...o.outputLines].forEach(t=>{this.amendmentForms.set(t.id,this.fb.group({newQuantity:[t.quantity],newWeight:[t.weight],reason:["",O.required]}))})},error:o=>{this.snackBar.open(`Error loading transaction: ${o.error?.title||"Unknown error"}`,"Close"),this.isLoading.set(!1)}})}amendLine(o){let t=this.amendmentForms.get(o.id);if(!t||t.invalid){this.snackBar.open("Please fill in the reason for amendment","Close",{duration:3e3});return}let{newQuantity:l,newWeight:m,reason:p}=t.value;if(l===o.quantity&&m===o.weight){this.snackBar.open("No changes made to quantity or weight","Close",{duration:3e3});return}this.inventoryApi.amendVasTransactionLine(this.data.transactionId,o.id,l!==o.quantity?l:null,m!==o.weight?m:null,p).subscribe({next:()=>{this.snackBar.open("Line amended successfully!","OK",{duration:3e3}),this.loadTransactionDetails()},error:V=>{this.snackBar.open(`Error: ${V.error?.title||"Failed to amend line"}`,"Close")}})}voidTransaction(){if(!this.transaction())return;this.dialog.open(J,{width:"400px",data:{title:"Void Transaction",message:"Are you sure you want to void this transaction? This action cannot be undone.",label:"Reason for Voiding",confirmText:"Void Transaction",warn:!0}}).afterClosed().subscribe(t=>{t&&this.inventoryApi.voidVasTransaction(this.data.transactionId,t).subscribe({next:()=>{this.snackBar.open("Transaction voided successfully","OK",{duration:3e3}),this.close("success")},error:l=>{this.snackBar.open(`Error: ${l.error?.title||"Failed to void transaction"}`,"Close")}})})}close(o){this.dialogRef.close(o)}getFormGroup(o){return this.amendmentForms.get(o)}parseJson(o){try{return JSON.parse(o)}catch{return o}}static \u0275fac=function(t){return new(t||i)(w(ct),w(st))};static \u0275cmp=k({type:i,selectors:[["app-amend-vas-dialog"]],decls:19,vars:7,consts:[["panel",""],[1,"dialog-header"],[1,"header-content"],["mat-dialog-title",""],[1,"transaction-id"],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content-refined"],[1,"loading-container"],["align","end",1,"dialog-actions-refined"],["mat-button","","color","warn"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],["diameter","40"],[1,"summary-section"],[1,"summary-card"],[1,"card-row"],[1,"summary-item"],[1,"label"],[1,"value","service-type"],[1,"value"],[1,"card-row","description-row"],[1,"summary-item","full-width"],[1,"void-banner"],["animationDuration","0ms","mat-stretch-tabs","false",1,"refined-tabs"],["mat-tab-label",""],[1,"tab-content"],[1,"empty-tab"],[1,"expandable-list-container"],[1,"tab-content","history-container"],[1,"timeline"],[1,"tab-label-content"],[1,"tab-icon"],[1,"badge"],["displayMode","flat","multi",""],[1,"line-card"],[3,"collapsedHeight","expandedHeight"],[1,"panel-header-content"],[1,"material-info"],[1,"name-row"],[1,"material-name"],[1,"amended-badge"],[1,"error-badge"],[1,"current-values"],[1,"value-item"],[1,"panel-body"],[1,"amendment-form",3,"formGroup"],[1,"inputs-grid"],["appearance","outline",1,"compact-field"],["matInput","","type","number","formControlName","newQuantity"],["appearance","outline",1,"reason-field"],["matInput","","formControlName","reason","placeholder","Required"],[1,"history-hint"],[1,"action-row",2,"display","flex","justify-content","flex-end","margin-top","0.5rem"],["mat-flat-button","","color","primary",3,"click","disabled"],["matInput","","type","number","formControlName","newWeight"],[1,"timeline-item"],[1,"timeline-marker"],[1,"timeline-content"],[1,"timeline-header"],[1,"amendment-type"],[1,"amendment-date"],[1,"timeline-user"],[1,"timeline-reason"],[1,"timeline-details"],["mat-button","","color","warn",3,"click"]],template:function(t,l){if(t&1&&(n(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Amend Transaction"),e(),n(4,"div",4),a(5),v(6,"slice"),e()(),n(7,"button",5),C("click",function(){return l.close()}),n(8,"mat-icon"),a(9,"close"),e()()(),n(10,"mat-dialog-content",6),g(11,he,4,0,"div",7)(12,Ue,42,11),e(),n(13,"mat-dialog-actions",8),g(14,Je,2,0,"button",9),n(15,"button",10),C("click",function(){return l.close()}),a(16,"Close"),e(),n(17,"button",11),C("click",function(){return l.close("success")}),a(18,"Done"),e()()),t&2){let m;r(5),M("#",vt(6,3,(m=l.transaction())==null?null:m.id,0,8)),r(6),u(l.isLoading()?11:l.transaction()?12:-1),r(3),u(l.transaction()&&!l.transaction().isVoided?14:-1)}},dependencies:[I,j,R,wt,z,B,G,H,U,pt,ut,gt,N,L,nt,q,ot,at,Q,W,F,A,te,Yt,Xt,Zt,Jt,Ut,Wt,Qt,lt,mt,At,bt,Ot,Pt,et],styles:['.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid var(--mat-sys-outline-variant);background-color:var(--mat-sys-surface)}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:1rem}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--mat-sys-on-surface)}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .transaction-id[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.85rem;color:var(--mat-sys-on-surface-variant);background-color:var(--mat-sys-surface-container-low);padding:2px 6px;border-radius:4px}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin-right:-.5rem;color:var(--mat-sys-on-surface-variant)}.dialog-content-refined[_ngcontent-%COMP%]{padding:0!important;max-height:80vh;display:flex;flex-direction:column;background-color:var(--mat-sys-surface-container-lowest)}.summary-section[_ngcontent-%COMP%]{padding:1rem 1.5rem;background-color:var(--mat-sys-surface);border-bottom:1px solid var(--mat-sys-outline-variant)}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.summary-section[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;gap:2rem}.summary-section[_ngcontent-%COMP%]   .card-row.description-row[_ngcontent-%COMP%]{margin-top:.25rem}.summary-section[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.15rem}.summary-section[_ngcontent-%COMP%]   .summary-item.full-width[_ngcontent-%COMP%]{flex:1}.summary-section[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.05em;color:var(--mat-sys-on-surface-variant);font-weight:600}.summary-section[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:var(--mat-sys-on-surface)}.summary-section[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.service-type[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-weight:700;font-size:.95rem}.summary-section[_ngcontent-%COMP%]   .void-banner[_ngcontent-%COMP%]{background-color:#fce8e6;color:#c5221f;padding:.5rem .75rem;border-radius:6px;display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:.85rem;margin-top:.5rem;border:1px solid #f9d7d5}.refined-tabs[_ngcontent-%COMP%]{flex-grow:1;background-color:var(--mat-sys-surface)}.refined-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{border-bottom:1px solid var(--mat-sys-outline-variant);--mdc-tab-indicator-active-indicator-height: 2px}.refined-tabs[_ngcontent-%COMP%]   .tab-label-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.refined-tabs[_ngcontent-%COMP%]   .tab-label-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low);color:var(--mat-sys-on-surface);font-size:.7rem;padding:1px 6px;border-radius:10px;font-weight:600}.tab-content[_ngcontent-%COMP%]{padding:0;min-height:250px}.empty-tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;color:var(--mat-sys-on-surface-variant)}.empty-tab[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;margin-bottom:.75rem;opacity:.5}.empty-tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.expandable-list-container[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--mat-sys-surface-container-lowest)}.line-card[_ngcontent-%COMP%]{margin-bottom:.5rem;border:1px solid var(--mat-sys-outline-variant);border-radius:8px!important;box-shadow:none!important;background-color:var(--mat-sys-surface);transition:all .2s ease}.line-card[_ngcontent-%COMP%]:hover{border-color:var(--mat-sys-primary);background-color:var(--mat-sys-surface-container-low)}.line-card.mat-expanded[_ngcontent-%COMP%]{border-color:var(--mat-sys-primary);background-color:var(--mat-sys-surface-container-low);margin-bottom:1rem}.line-card[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0 1.5rem 1.5rem}.panel-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding-right:1rem}.panel-header-content[_ngcontent-%COMP%]   .material-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.panel-header-content[_ngcontent-%COMP%]   .material-info[_ngcontent-%COMP%]   .name-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.panel-header-content[_ngcontent-%COMP%]   .material-info[_ngcontent-%COMP%]   .material-name[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:var(--mat-sys-on-surface)}.panel-header-content[_ngcontent-%COMP%]   .material-info[_ngcontent-%COMP%]   .amended-badge[_ngcontent-%COMP%]{font-size:.65rem;background-color:var(--mat-sys-tertiary-container);color:var(--mat-sys-on-tertiary-container);padding:2px 6px;border-radius:4px;font-weight:700;letter-spacing:.05em}.panel-header-content[_ngcontent-%COMP%]   .material-info[_ngcontent-%COMP%]   .error-badge[_ngcontent-%COMP%]{font-size:.7rem;color:var(--mat-sys-error);background-color:var(--mat-sys-error-container);padding:2px 6px;border-radius:4px;align-self:flex-start}.panel-header-content[_ngcontent-%COMP%]   .current-values[_ngcontent-%COMP%]{display:flex;gap:1.5rem;text-align:right}.panel-header-content[_ngcontent-%COMP%]   .current-values[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.panel-header-content[_ngcontent-%COMP%]   .current-values[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;font-weight:600}.panel-header-content[_ngcontent-%COMP%]   .current-values[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:var(--mat-sys-on-surface)}.panel-header-content[_ngcontent-%COMP%]   .current-values[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mat-sys-on-surface-variant)}.panel-body[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid rgba(0,0,0,.05)}.amendment-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.amendment-form[_ngcontent-%COMP%]   .inputs-grid[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start;flex-wrap:wrap}.amendment-form[_ngcontent-%COMP%]   .inputs-grid[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]{width:140px}.amendment-form[_ngcontent-%COMP%]   .inputs-grid[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:var(--mat-sys-surface)}.amendment-form[_ngcontent-%COMP%]   .inputs-grid[_ngcontent-%COMP%]   .reason-field[_ngcontent-%COMP%]{flex:1;min-width:250px}.amendment-form[_ngcontent-%COMP%]   .inputs-grid[_ngcontent-%COMP%]   .reason-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:var(--mat-sys-surface)}.amendment-form[_ngcontent-%COMP%]   .history-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:var(--mat-sys-on-surface-variant);padding:.5rem;background-color:rgba(var(--mat-sys-on-surface-rgb),.05);border-radius:4px;width:fit-content}.amendment-form[_ngcontent-%COMP%]   .history-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem}.history-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:var(--mat-sys-surface)}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:.5rem;max-width:800px;margin:0 auto}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background-color:var(--mat-sys-outline-variant)}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;padding-left:1.5rem;margin-bottom:1.5rem}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-5px;top:0;width:12px;height:12px;border-radius:50%;background-color:var(--mat-sys-primary);border:2px solid var(--mat-sys-surface)}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low);padding:1rem;border-radius:8px;border:1px solid var(--mat-sys-outline-variant)}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-header[_ngcontent-%COMP%]   .amendment-type[_ngcontent-%COMP%]{font-weight:600;color:var(--mat-sys-primary);font-size:.85rem}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-header[_ngcontent-%COMP%]   .amendment-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mat-sys-on-surface-variant)}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-user[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem;display:flex;align-items:center;gap:.5rem;font-weight:500}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-user[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-reason[_ngcontent-%COMP%]{font-style:italic;color:var(--mat-sys-on-surface);margin:.5rem 0;padding-left:.5rem;border-left:2px solid var(--mat-sys-outline);font-size:.9rem}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-details[_ngcontent-%COMP%]{margin-top:.75rem;font-size:.8rem}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;color:var(--mat-sys-primary);font-weight:500;-webkit-user-select:none;user-select:none;outline:none}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .timeline-details[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface);padding:.5rem;border-radius:4px;overflow-x:auto;margin-top:.25rem;font-size:.75rem;border:1px solid var(--mat-sys-outline-variant);color:var(--mat-sys-on-surface)}.dialog-actions-refined[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-top:1px solid var(--mat-sys-outline-variant);background-color:var(--mat-sys-surface);margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:250px;gap:1rem;color:var(--mat-sys-on-surface-variant)}']})};function Ke(i,o){if(i&1&&(n(0,"mat-option",25),a(1),e()),i&2){let t=o.$implicit;c("value",t),r(),M(" ",t.name," ")}}function Ye(i,o){i&1&&(n(0,"div",23)(1,"mat-icon"),a(2,"manage_search"),e(),n(3,"h3"),a(4,"No Transactions Found"),e(),n(5,"p"),a(6,'Adjust your filters and click "Load" to view history.'),e()())}function Xe(i,o){i&1&&(n(0,"th",38),a(1,"Date & Time"),e())}function Ze(i,o){if(i&1&&(n(0,"td",39)(1,"div",40)(2,"span",41),a(3),v(4,"date"),e(),n(5,"span",42),a(6),v(7,"date"),e()()()),i&2){let t=o.$implicit;r(3),s(h(4,2,t.timestamp,"MMM d, y")),r(3),s(h(7,5,t.timestamp,"h:mm a"))}}function tn(i,o){i&1&&(n(0,"th",38),a(1,"Service"),e())}function en(i,o){if(i&1&&(n(0,"td",39)(1,"span",43),a(2),e()()),i&2){let t=o.$implicit;r(2),s(t.serviceType)}}function nn(i,o){i&1&&(n(0,"th",38),a(1,"Description"),e())}function an(i,o){if(i&1&&(n(0,"td",44)(1,"span",45),a(2),e()()),i&2){let t=o.$implicit;c("matTooltip",t.description),r(2),s(t.description)}}function on(i,o){i&1&&(n(0,"th",38),a(1,"User"),e())}function rn(i,o){if(i&1&&(n(0,"td",39)(1,"div",46)(2,"mat-icon"),a(3,"account_circle"),e(),n(4,"span"),a(5),e()()()),i&2){let t=o.$implicit;r(5),s(t.userName)}}function ln(i,o){i&1&&(n(0,"th",38),a(1,"Status"),e())}function mn(i,o){i&1&&(n(0,"span",50),a(1,"VOIDED"),e())}function cn(i,o){i&1&&(n(0,"span",51),a(1,"AMENDED"),e())}function sn(i,o){i&1&&(n(0,"span",52),a(1,"ACTIVE"),e())}function dn(i,o){if(i&1&&(n(0,"td",39),f(1,mn,2,0,"span",47)(2,cn,2,0,"span",48)(3,sn,2,0,"span",49),e()),i&2){let t=o.$implicit;r(),c("ngIf",t.isVoided),r(),c("ngIf",t.isAmended&&!t.isVoided),r(),c("ngIf",!t.isVoided&&!t.isAmended)}}function pn(i,o){i&1&&(n(0,"th",38),a(1,"Actions"),e())}function gn(i,o){if(i&1){let t=E();n(0,"td",39)(1,"div",53)(2,"button",54),C("click",function(){let m=b(t).$implicit,p=d(2);return P(p.openAmendDialog(m))}),n(3,"mat-icon",55),a(4,"edit"),e()(),n(5,"button",56),C("click",function(){let m=b(t).$implicit,p=d(2);return P(p.voidTransaction(m))}),n(6,"mat-icon",57),a(7,"block"),e()()()()}if(i&2){let t=o.$implicit;r(2),c("disabled",t.isVoided),r(3),c("disabled",t.isVoided)}}function un(i,o){i&1&&_(0,"tr",58)}function _n(i,o){if(i&1&&_(0,"tr",59),i&2){let t=o.$implicit;T("voided-row",t.isVoided)}}function fn(i,o){if(i&1&&(n(0,"div",24)(1,"table",26),D(2,27),f(3,Xe,2,0,"th",28)(4,Ze,8,8,"td",29),S(),D(5,30),f(6,tn,2,0,"th",28)(7,en,3,1,"td",29),S(),D(8,31),f(9,nn,2,0,"th",28)(10,an,3,2,"td",32),S(),D(11,33),f(12,on,2,0,"th",28)(13,rn,6,1,"td",29),S(),D(14,34),f(15,ln,2,0,"th",28)(16,dn,4,3,"td",29),S(),D(17,35),f(18,pn,2,0,"th",28)(19,gn,8,2,"td",29),S(),f(20,un,1,0,"tr",36)(21,_n,1,2,"tr",37),e()()),i&2){let t=d();r(),c("dataSource",t.transactions()),r(19),c("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),r(),c("matRowDefColumns",t.displayedColumns)}}var xe=class i{http=x(ht);inventoryApi=x(_t);snackBar=x(rt);dialog=x(dt);fb=x($);filterForm;transactions=y([]);accounts=y([]);isLoading=y(!1);displayedColumns=["timestamp","serviceType","description","userName","status","actions"];constructor(){let o=new Date,t=new Date;t.setDate(t.getDate()-30),this.filterForm=this.fb.group({account:[null,O.required],startDate:[t,O.required],endDate:[o,O.required],includeVoided:[!1]})}ngOnInit(){this.loadAccounts()}loadAccounts(){this.http.get(`${yt.apiUrl}/Lookups/accounts`).subscribe(o=>this.accounts.set(o))}loadTransactions(){if(this.filterForm.invalid){this.snackBar.open("Please select an account and date range","Close",{duration:3e3});return}let{account:o,startDate:t,endDate:l,includeVoided:m}=this.filterForm.value;this.isLoading.set(!0),this.inventoryApi.getVasTransactions(o.id,t,l,m).subscribe({next:p=>{this.transactions.set(p),this.isLoading.set(!1)},error:p=>{this.snackBar.open(`Error loading transactions: ${p.error?.title||"Unknown error"}`,"Close"),this.isLoading.set(!1)}})}openAmendDialog(o){if(o.isVoided){this.snackBar.open("Cannot amend a voided transaction","Close",{duration:3e3});return}this.dialog.open(ft,{width:"800px",data:{transactionId:o.id}}).afterClosed().subscribe(l=>{l==="success"&&this.loadTransactions()})}voidTransaction(o){if(o.isVoided){this.snackBar.open("Transaction is already voided","Close",{duration:3e3});return}this.dialog.open(J,{width:"400px",data:{title:"Void Transaction",message:"Are you sure you want to void this transaction? This action cannot be undone.",label:"Reason for Voiding",confirmText:"Void Transaction",warn:!0}}).afterClosed().subscribe(l=>{l&&this.inventoryApi.voidVasTransaction(o.id,l).subscribe({next:()=>{this.snackBar.open("Transaction voided successfully","OK",{duration:3e3}),this.loadTransactions()},error:m=>{this.snackBar.open(`Error: ${m.error?.title||"Failed to void transaction"}`,"Close")}})})}displayAccount(o){return o?.name||""}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=k({type:i,selectors:[["app-vas-transactions-list"]],decls:46,vars:11,consts:[["triggerAccount","matAutocompleteTrigger"],["accountAuto","matAutocomplete"],["startPicker",""],["endPicker",""],[1,"report-container"],[1,"header-section"],[1,"header-content"],[1,"subtitle"],[1,"filter-section"],[1,"filter-grid",3,"formGroup"],[1,"filter-field","account-field"],[1,"input-wrapper"],["type","text","matInput","","formControlName","account","placeholder","Select account",3,"click","matAutocomplete"],[1,"field-icon"],[3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],[1,"filter-field","date-field"],["matInput","","formControlName","startDate","placeholder","Select date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","endDate","placeholder","Select date",3,"matDatepicker"],[1,"filter-actions"],["formControlName","includeVoided",1,"compact-checkbox"],["mat-flat-button","","color","primary",3,"click","disabled"],[1,"empty-list-message"],[1,"table-container"],[3,"value"],["mat-table","",1,"standard-table",3,"dataSource"],["matColumnDef","timestamp"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","serviceType"],["matColumnDef","description"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"voided-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"cell-content"],[1,"primary-text"],[1,"secondary-text"],[1,"service-badge"],["mat-cell","",3,"matTooltip"],[1,"truncate-text"],[1,"user-cell"],["class","status-badge voided",4,"ngIf"],["class","status-badge amended",4,"ngIf"],["class","status-badge active",4,"ngIf"],[1,"status-badge","voided"],[1,"status-badge","amended"],[1,"status-badge","active"],[1,"actions-cell"],["mat-icon-button","","matTooltip","Amend",3,"click","disabled"],[1,"action-icon","edit"],["mat-icon-button","","matTooltip","Void",3,"click","disabled"],[1,"action-icon","delete"],["mat-header-row",""],["mat-row",""]],template:function(t,l){if(t&1){let m=E();n(0,"div",4)(1,"div",5)(2,"div",6)(3,"h1"),a(4,"VAS Transactions"),e(),n(5,"p",7),a(6,"Manage Value-Added Services, amendments, and voids"),e()()(),n(7,"div",8)(8,"form",9)(9,"div",10)(10,"label"),a(11,"Account"),e(),n(12,"div",11)(13,"input",12,0),C("click",function(){b(m);let V=K(14);return P(V.openPanel())}),e(),n(15,"mat-icon",13),a(16,"business"),e()(),n(17,"mat-autocomplete",14,1),f(19,Ke,2,2,"mat-option",15),e()(),n(20,"div",16)(21,"label"),a(22,"Start Date"),e(),n(23,"div",11),_(24,"input",17)(25,"mat-datepicker-toggle",18),e(),_(26,"mat-datepicker",null,2),e(),n(28,"div",16)(29,"label"),a(30,"End Date"),e(),n(31,"div",11),_(32,"input",19)(33,"mat-datepicker-toggle",18),e(),_(34,"mat-datepicker",null,3),e(),n(36,"div",20)(37,"mat-checkbox",21),a(38," Include Voided "),e(),n(39,"button",22),C("click",function(){return b(m),P(l.loadTransactions())}),n(40,"mat-icon"),a(41,"search"),e(),n(42,"span"),a(43,"Load"),e()()()()(),g(44,Ye,7,0,"div",23),g(45,fn,22,4,"div",24),e()}if(t&2){let m=K(18),p=K(27),V=K(35);r(8),c("formGroup",l.filterForm),r(5),c("matAutocomplete",m),r(4),c("displayWith",l.displayAccount),r(2),c("ngForOf",l.accounts()),r(5),c("matDatepicker",p),r(),c("for",p),r(7),c("matDatepicker",V),r(),c("for",V),r(6),c("disabled",l.isLoading()),r(5),u(l.transactions().length===0&&!l.isLoading()?44:-1),r(),u(l.transactions().length>0?45:-1)}},dependencies:[I,xt,tt,j,it,R,z,B,G,H,It,q,St,Q,W,N,L,nt,qt,Ft,Nt,Gt,Rt,Lt,Ht,zt,Bt,$t,jt,F,A,ee,ce,re,le,me,oe,de,se,Tt,Et,ae,ne,ie,lt,U,mt,kt,Vt,et],styles:[".report-container[_ngcontent-%COMP%]{padding:1.5rem 2.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem;height:calc(100vh - 64px);overflow:hidden}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--mat-sys-on-surface);margin:0 0 .5rem;letter-spacing:-.02em}.header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);font-size:.95rem;margin:0}.filter-section[_ngcontent-%COMP%]{background:var(--mat-sys-surface);border:1px solid var(--mat-sys-outline-variant);border-radius:12px;padding:1.5rem;box-shadow:0 2px 6px #00000005}.filter-section[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:1.5rem;align-items:end}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;position:relative;width:100%;margin-bottom:0}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;letter-spacing:.05em;margin-left:.25rem}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px;border:1px solid var(--mat-sys-outline);border-radius:8px;padding:0;padding-left:1rem!important;padding-right:40px!important;font-size:.9rem;background:var(--mat-sys-surface);color:var(--mat-sys-on-surface);transition:all .2s;width:100%;box-sizing:border-box}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--mat-sys-primary);box-shadow:0 0 0 3px rgba(var(--mat-sys-primary-rgb),.1)}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--mat-sys-outline-variant)}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%], .filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);height:40px;width:40px;color:var(--mat-sys-outline);display:flex;align-items:center;justify-content:center;pointer-events:auto;z-index:1}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{pointer-events:none;font-size:1.2rem}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]     button{height:36px!important;width:36px!important;padding:0!important}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]     button mat-icon{font-size:1.2rem;width:1.2rem;height:1.2rem;margin:0}.filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   mat-autocomplete[_ngcontent-%COMP%], .filter-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   mat-datepicker[_ngcontent-%COMP%]{display:none}.filter-section[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;height:45px}.filter-section[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]   .compact-checkbox[_ngcontent-%COMP%]{font-size:.9rem;white-space:nowrap}.filter-section[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:45px;padding:0 2rem;border-radius:8px;font-weight:600;flex:0 0 auto;min-width:120px}.filter-section[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.table-container[_ngcontent-%COMP%]{flex:1;background:var(--mat-sys-surface);border:1px solid var(--mat-sys-outline-variant);border-radius:12px;overflow:auto;box-shadow:0 4px 12px #0000000a}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);color:var(--mat-sys-on-surface-variant);font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;padding:1rem 1.5rem;border-bottom:1px solid var(--mat-sys-outline-variant);white-space:nowrap;position:sticky;top:0;z-index:10}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid var(--mat-sys-outline-variant-low);font-size:.9rem;color:var(--mat-sys-on-surface);vertical-align:middle}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1.5rem}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:1.5rem}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{transition:background-color .2s}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover{background-color:var(--mat-sys-surface-container-high)}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   tr.mat-row.voided-row[_ngcontent-%COMP%]{background-color:#fef2f280}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   tr.mat-row.voided-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);text-decoration:line-through}.table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   tr.mat-row.voided-row[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   .standard-table[_ngcontent-%COMP%]   tr.mat-row.voided-row[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{text-decoration:none}.cell-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.15rem}.cell-content[_ngcontent-%COMP%]   .primary-text[_ngcontent-%COMP%]{font-weight:500}.cell-content[_ngcontent-%COMP%]   .secondary-text[_ngcontent-%COMP%]{font-size:.8rem;color:var(--mat-sys-on-surface-variant)}.service-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;background:var(--mat-sys-secondary-container);color:var(--mat-sys-on-secondary-container);border-radius:6px;font-size:.85rem;font-weight:600}.truncate-text[_ngcontent-%COMP%]{display:block;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:var(--mat-sys-primary)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.status-badge.active[_ngcontent-%COMP%]{background:#ecfdf5;color:#059669;border:1px solid #a7f3d0}.status-badge.amended[_ngcontent-%COMP%]{background:#fffbeb;color:#d97706;border:1px solid #fde68a}.status-badge.voided[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:.7;transition:opacity .2s}tr[_ngcontent-%COMP%]:hover   .actions-cell[_ngcontent-%COMP%]{opacity:1}.actions-cell[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.actions-cell[_ngcontent-%COMP%]   .action-icon.edit[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.actions-cell[_ngcontent-%COMP%]   .action-icon.delete[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.empty-list-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;background:var(--mat-sys-surface);border:1px solid var(--mat-sys-outline-variant);border-radius:12px;text-align:center;color:var(--mat-sys-on-surface-variant)}.empty-list-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;margin-bottom:1rem;opacity:.5}.empty-list-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;color:var(--mat-sys-on-surface)}.empty-list-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}"]})};export{xe as VasTransactionsListComponent};
