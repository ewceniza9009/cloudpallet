import{a as p}from"./chunk-SVDPSKVI.js";import{a as u}from"./chunk-PHPS4OQU.js";import{A as s,B as d}from"./chunk-HYNCXMIA.js";import{ga as c,la as g}from"./chunk-N46UG6V3.js";var m=class l{http=g(d);apiUrl=u.apiUrl;inventoryUrl=`${this.apiUrl}/Inventory`;lookupsUrl=`${this.apiUrl}/Lookups`;receivingUrl=`${this.apiUrl}/Receiving`;warehouseState=g(p);searchMaterials(e,t,r){let i=new s().set("page",t.toString()).set("pageSize",r.toString());return e&&(i=i.set("searchTerm",e)),this.http.get(`${this.lookupsUrl}/materials/search`,{params:i})}getPalletTypes(){return this.http.get(`${this.lookupsUrl}/pallet-types`)}getAvailableStorageLocations(){let e=this.warehouseState.selectedWarehouseId();if(!e)throw new Error("Cannot get locations: No warehouse is selected.");let t=new s().set("warehouseId",e);return this.http.get(`${this.lookupsUrl}/available-storage-locations`,{params:t})}getRepackableInventory(e,t,r,i=1,n=20,a=!1){let o=new s().set("accountId",e).set("page",i.toString()).set("pageSize",n.toString()).set("includeAllLocations",a.toString());return t&&(o=o.set("materialId",t)),r&&(o=o.set("searchTerm",r)),this.http.get(`${this.lookupsUrl}/repackable-inventory`,{params:o})}getReceivingSessions(e=1,t=10,r,i){let n=this.warehouseState.selectedWarehouseId();if(!n)throw new Error("Cannot get receiving sessions: No warehouse is selected.");let a=new s().set("warehouseId",n).set("page",e.toString()).set("pageSize",t.toString());if(r&&(a=a.set("searchTerm",r)),i){let o=i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+("0"+i.getDate()).slice(-2);a=a.set("date",o)}return this.http.get(`${this.receivingUrl}/sessions`,{params:a})}getReceivingSessionById(e){return this.http.get(`${this.receivingUrl}/session/${e}`)}createReceivingSession(e){return this.http.post(`${this.receivingUrl}/session`,e)}addPalletToReceiving(e){return this.http.post(`${this.receivingUrl}/session/${e.receivingId}/pallet`,e)}processPalletLine(e){return this.http.post(`${this.receivingUrl}/process-line`,e,{responseType:"text"})}addLineToPallet(e,t,r){let i={materialId:r};return this.http.post(`${this.receivingUrl}/session/${e}/pallet/${t}/line`,i)}deletePalletLine(e,t,r){return this.http.delete(`${this.receivingUrl}/session/${e}/pallet/${t}/line/${r}`)}deletePallet(e,t){return this.http.delete(`${this.receivingUrl}/session/${e}/pallet/${t}`)}completeReceivingSession(e){return this.http.post(`${this.receivingUrl}/session/${e}/complete`,{})}getReceivingVariance(e){return this.http.get(`${this.receivingUrl}/session/${e}/variance`)}deleteReceivingSession(e){return this.http.delete(`${this.receivingUrl}/session/${e}`)}getStoredPalletsByRoom(){let e=this.warehouseState.selectedWarehouseId();if(!e)throw new Error("Cannot get stored pallets: No warehouse is selected.");let t=new s().set("warehouseId",e);return this.http.get(`${this.inventoryUrl}/stored-pallets-by-room`,{params:t})}searchStoredPallets(e,t,r){let i=this.warehouseState.selectedWarehouseId();if(!i)throw new Error("No warehouse selected.");let n=new s().set("warehouseId",i);return e&&(n=n.set("accountId",e)),t&&(n=n.set("materialId",t)),r&&(n=n.set("barcodeQuery",r)),this.http.get(`${this.inventoryUrl}/search-stored-pallets`,{params:n})}getPalletHistory(e){return this.http.get(`${this.inventoryUrl}/pallet-history/${e}`)}getLocationDetails(e){return this.http.get(`${this.inventoryUrl}/location-details/${e}`)}getPutawayTasks(){let e=this.warehouseState.selectedWarehouseId();if(!e)throw new Error("Cannot get putaway tasks: No warehouse is selected.");let t=new s().set("warehouseId",e);return this.http.get(`${this.inventoryUrl}/putaway-tasks`,{params:t})}executePutaway(e,t){let r={palletId:e,destinationLocationId:t};return this.http.post(`${this.inventoryUrl}/manual-putaway`,r)}executeTransfer(e){return this.http.post(`${this.inventoryUrl}/transfer-pallet`,e)}transferItemsToNewPallet(e){return this.http.post(`${this.inventoryUrl}/transfer-items`,e)}recordBlastFreeze(e){let t={palletId:e,serviceType:"Blasting"};return this.http.post(`${this.inventoryUrl}/record-vas`,t)}recordRepack(e,t,r,i){let n={sourceInventoryId:e,targetMaterialId:t,quantityToProcess:r,durationHours:i,serviceType:"Repack"};return this.http.post(`${this.inventoryUrl}/record-vas`,n)}recordLabeling(e){let t={targetId:e.targetId,targetType:e.targetType,labelType:e.labelType,quantityLabeled:e.quantityLabeled,serviceType:"Labeling"};return this.http.post(`${this.inventoryUrl}/record-vas`,t)}startQuarantine(e){return this.http.post(`${this.inventoryUrl}/start-quarantine`,e)}completeFumigation(e){let t={inventoryId:e.inventoryId,durationHours:e.durationHours,serviceType:"Fumigation"};return this.http.post(`${this.inventoryUrl}/record-vas`,t)}recordCycleCount(e){let t={countedItems:e.countedItems,durationHours:e.durationHours,serviceType:"CycleCount"};return this.http.post(`${this.inventoryUrl}/record-vas`,t)}createKit(e){return this.http.post(`${this.inventoryUrl}/create-kit`,e)}getVasTransactions(e,t,r,i=!1){let n=new s().set("startDate",t.toISOString()).set("endDate",r.toISOString()).set("includeVoided",i.toString());return this.http.get(`${this.apiUrl}/vas/accounts/${e}/transactions`,{params:n})}getVasTransactionDetails(e){return this.http.get(`${this.apiUrl}/vas/transactions/${e}`)}amendVasTransactionLine(e,t,r,i,n){return this.http.post(`${this.apiUrl}/vas/transactions/${e}/lines/${t}/amend`,{newQuantity:r,newWeight:i,amendmentReason:n})}voidVasTransaction(e,t){return this.http.post(`${this.apiUrl}/vas/transactions/${e}/void`,{voidReason:t})}getScaleWeight(){return this.http.get(`${this.apiUrl}/Scale/weight`)}static \u0275fac=function(t){return new(t||l)};static \u0275prov=c({token:l,factory:l.\u0275fac,providedIn:"root"})};export{m as a};
