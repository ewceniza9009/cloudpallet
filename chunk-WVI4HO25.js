import{a as it}from"./chunk-WVPAJCFC.js";import{b as K,c as Q}from"./chunk-RFTLLO7Q.js";import{b as Y,f as q,i as H,j as J}from"./chunk-LJJEMR6T.js";import{d as I,e as z,h as D}from"./chunk-QKDH2S6W.js";import"./chunk-PVDG46DZ.js";import{a as Z}from"./chunk-2PH2G5FJ.js";import{b as X}from"./chunk-4467KL4X.js";import{b as B,g as $,j as G,n as U,w as W}from"./chunk-AMYPGFIW.js";import"./chunk-KS7NA3UJ.js";import{m as V,o as j,p as R}from"./chunk-2LKGOGN5.js";import{a as nt,b as rt}from"./chunk-NAFMYLXR.js";import"./chunk-2G4RJFBR.js";import{a as tt,i as et}from"./chunk-NCMEPRDZ.js";import{G as N,H as A}from"./chunk-3GOW57GU.js";import{t as T}from"./chunk-HYNCXMIA.js";import{Aa as _,Ac as v,Ic as M,L as b,Ob as u,Pb as f,Q as w,Sb as L,Tb as E,Ub as l,Vb as e,Wb as n,Xb as O,_ as S,cc as x,hb as c,hc as m,jc as g,la as P,qa as p,ra as C,ub as k,vc as F,w as y,xc as r,yc as d}from"./chunk-N46UG6V3.js";var h=a=>["/setup/carriers/detail",a],ot=(a,i)=>i.id;function ct(a,i){a&1&&(e(0,"div",11),O(1,"mat-progress-spinner",13),e(2,"span"),r(3,"Loading carriers..."),n()())}function st(a,i){a&1&&(e(0,"span",22),r(1,"Inactive"),n())}function dt(a,i){a&1&&(e(0,"span",23),r(1,"Active"),n())}function lt(a,i){if(a&1&&(e(0,"div",30)(1,"mat-icon"),r(2,"location_on"),n(),e(3,"div",34)(4,"span",35),r(5),n(),e(6,"span",36),r(7),n()()()),a&2){let t=g().$implicit;c(5),v("",t.address.city,", ",t.address.state),c(2),d(t.address.country)}}function mt(a,i){if(a&1){let t=x();e(0,"mat-card",16)(1,"div",17)(2,"div",18)(3,"h3",19),r(4),n(),e(5,"div",20)(6,"span",21),r(7),n(),u(8,st,2,0,"span",22)(9,dt,2,0,"span",23),n()(),e(10,"button",24),m("click",function(s){return p(t),C(s.stopPropagation())}),e(11,"mat-icon"),r(12,"settings"),n()()(),e(13,"div",25)(14,"div",26)(15,"div",27)(16,"div",28),r(17),n(),e(18,"div",29),r(19,"Trucks"),n()(),e(20,"div",27)(21,"div",28),r(22),n(),e(23,"div",29),r(24,"Fleet Size"),n()()(),u(25,lt,8,3,"div",30),n(),e(26,"div",31)(27,"div",32)(28,"button",33),m("click",function(s){return p(t),C(s.stopPropagation())}),e(29,"mat-icon"),r(30,"visibility"),n(),e(31,"span"),r(32,"Manage Fleet"),n()()()()()}if(a&2){let t=i.$implicit,o=g(2);F("inactive",!t.isActive),l("routerLink",M(11,h,t.id)),c(4),d(t.name),c(3),d(t.scacCode),c(),f(t.isActive?9:8),c(2),l("routerLink",M(13,h,t.id)),c(7),d(t.truckCount||0),c(5),d(o.getFleetSize(t)),c(3),f(t.address?25:-1),c(3),l("routerLink",M(15,h,t.id))}}function gt(a,i){if(a&1){let t=x();e(0,"div",15)(1,"div",37)(2,"mat-icon"),r(3,"local_shipping"),n()(),e(4,"h3"),r(5,"No carriers found"),n(),e(6,"p"),r(7,"Get started by creating your first transportation carrier"),n(),e(8,"button",38),m("click",function(){p(t);let s=g(2);return C(s.createNew())}),e(9,"mat-icon"),r(10,"add"),n(),e(11,"span"),r(12,"Create Carrier"),n()()()}}function pt(a,i){if(a&1&&(e(0,"div",12),L(1,mt,33,17,"mat-card",14,ot,!1,gt,13,0,"div",15),n()),a&2){let t=g();c(),E(t.filteredCarriers())}}var at=class a{adminSetupApi=P(it);router=P(I);carriers=_([]);filteredCarriers=_([]);isLoading=_(!0);searchControl=new G("");ngOnInit(){this.loadData(),this.searchControl.valueChanges.pipe(S(""),b(300),w(),y(i=>this._filter(i||""))).subscribe(i=>this.filteredCarriers.set(i))}loadData(){this.isLoading.set(!0),this.adminSetupApi.getAllCarriers().subscribe({next:i=>{this.carriers.set(i),this.filteredCarriers.set(i),this.isLoading.set(!1)},error:i=>{console.error("Failed to load carriers:",i),this.isLoading.set(!1)}})}_filter(i){let t=i.toLowerCase();return this.carriers().filter(o=>o.name.toLowerCase().includes(t)||o.scacCode.toLowerCase().includes(t)||o.address?.city?.toLowerCase().includes(t)||o.address?.state?.toLowerCase().includes(t))}createNew(){this.router.navigate(["/setup/carriers/detail","new"])}getFleetSize(i){let t=i.truckCount||0;return t===0?"None":t<5?"Small":t<20?"Medium":"Large"}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=k({type:a,selectors:[["app-carrier-list"]],decls:23,vars:4,consts:[[1,"list-container"],[1,"list-header"],[1,"header-content"],[1,"list-title"],[1,"list-subtitle"],["mat-flat-button","","color","primary",1,"create-button",3,"click"],[1,"search-section"],["appearance","outline",1,"search-bar"],["matInput","","placeholder","Search by name or SCAC code",3,"formControl"],["matSuffix",""],[1,"results-count"],[1,"spinner-container"],[1,"carrier-grid"],["mode","indeterminate","diameter","40"],["tabindex","0",1,"carrier-card",3,"inactive","routerLink"],[1,"empty-state"],["tabindex","0",1,"carrier-card",3,"routerLink"],[1,"card-header"],[1,"carrier-name-section"],[1,"carrier-name"],[1,"carrier-badges"],[1,"scac-badge"],["matTooltip","This carrier is inactive",1,"status-badge","inactive"],["matTooltip","This carrier is active",1,"status-badge","active"],["mat-icon-button","","matTooltip","Manage carrier",1,"edit-button",3,"click","routerLink"],[1,"card-content"],[1,"stats-section"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"address-info"],[1,"card-footer"],[1,"footer-actions"],["mat-stroked-button","","color","primary",1,"view-button",3,"click","routerLink"],[1,"address-text"],[1,"city-state"],[1,"country"],[1,"empty-icon"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,o){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),r(4,"Carriers"),n(),e(5,"p",4),r(6,"Manage transportation carriers and their truck fleets"),n()(),e(7,"button",5),m("click",function(){return o.createNew()}),e(8,"mat-icon"),r(9,"add"),n(),e(10,"span"),r(11,"New Carrier"),n()()(),e(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),r(15,"Search carriers..."),n(),O(16,"input",8),e(17,"mat-icon",9),r(18,"search"),n()(),e(19,"div",10),r(20),n()(),u(21,ct,4,0,"div",11)(22,pt,4,1,"div",12),n()),t&2&&(c(16),l("formControl",o.searchControl),c(4),v(" ",o.filteredCarriers().length," of ",o.carriers().length," carriers "),c(),f(o.isLoading()?21:22))},dependencies:[T,D,z,W,B,$,U,et,tt,J,H,Y,q,Q,K,A,N,R,j,V,rt,nt,Z,X],styles:["[_nghost-%COMP%]{display:block;height:100%}.list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;height:100%}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;padding-bottom:1rem;border-bottom:1px solid var(--mat-sys-outline-variant)}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:1.75rem;color:var(--mat-sys-on-surface)}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .list-subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--mat-sys-on-surface-variant);font-size:.9rem}.list-header[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{flex-shrink:0}.list-header[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.search-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}.search-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{flex:1;min-width:300px}.search-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);font-size:.875rem;white-space:nowrap}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:3rem;color:var(--mat-sys-on-surface-variant)}.carrier-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:1.5rem;align-items:start}@media (max-width: 768px){.carrier-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.carrier-card[_ngcontent-%COMP%]{border:1px solid var(--mat-sys-outline-variant);border-radius:12px;transition:all .2s ease-in-out;cursor:pointer;height:fit-content}.carrier-card[_ngcontent-%COMP%]:hover{border-color:var(--mat-sys-primary);box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.carrier-card[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--mat-sys-primary);outline-offset:2px}.carrier-card.inactive[_ngcontent-%COMP%]{opacity:.7;background-color:var(--mat-sys-surface-container-low)}.carrier-card.inactive[_ngcontent-%COMP%]:hover{opacity:.9}.carrier-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem;padding:1.25rem 1.25rem .75rem}.carrier-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .carrier-name-section[_ngcontent-%COMP%]{flex:1;min-width:0}.carrier-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .carrier-name-section[_ngcontent-%COMP%]   .carrier-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:600;color:var(--mat-sys-on-surface);line-height:1.3;word-wrap:break-word}.carrier-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .carrier-name-section[_ngcontent-%COMP%]   .carrier-badges[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.carrier-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{flex-shrink:0;margin:-8px -8px 0 0}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1.25rem 1rem;display:flex;flex-direction:column;gap:1.25rem}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:space-around}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--mat-sys-primary);line-height:1}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mat-sys-on-surface-variant);margin-top:.25rem;text-transform:uppercase;letter-spacing:.5px}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .address-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding-top:.75rem;border-top:1px solid var(--mat-sys-outline-variant)}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .address-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;color:var(--mat-sys-on-surface-variant);flex-shrink:0;margin-top:2px}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .address-info[_ngcontent-%COMP%]   .address-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .address-info[_ngcontent-%COMP%]   .address-text[_ngcontent-%COMP%]   .city-state[_ngcontent-%COMP%]{font-size:.875rem;color:var(--mat-sys-on-surface);font-weight:500}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .address-info[_ngcontent-%COMP%]   .address-text[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mat-sys-on-surface-variant)}.carrier-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;border-top:1px solid var(--mat-sys-outline-variant)}.carrier-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.carrier-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.scac-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-badge.active[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}.status-badge.inactive[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-highest);color:var(--mat-sys-on-surface-variant);border:1px solid var(--mat-sys-outline-variant)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:4rem 2rem;grid-column:1/-1;color:var(--mat-sys-on-surface-variant)}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;border-radius:50%;background-color:var(--mat-sys-surface-container-high);margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:var(--mat-sys-on-surface-variant)}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;font-weight:500;color:var(--mat-sys-on-surface)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1rem;max-width:400px;line-height:1.5}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 480px){.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.list-header[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{align-self:flex-end}.search-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.search-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{min-width:unset}.search-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{align-self:flex-end}.carrier-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.carrier-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem 1rem .5rem}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1rem .75rem;gap:1rem}.carrier-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{gap:1rem}.carrier-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem}}"]})};export{at as CarrierListComponent};
